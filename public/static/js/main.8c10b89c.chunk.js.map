{"version":3,"sources":["url_info.js","App.js","index.js"],"names":["URLInfo","data","className","newly_added","used","href","short_url","url","Date","created_at","toLocaleDateString","App","useState","currentTabIndex","setcurrentTabIndex","urlInput","seturlInput","urls","setUrls","useEffect","fetchData","urlValidator","getTabClasses","tabId","top","a","fetch","response","status","json","res","handleSubmit","test","alert","method","headers","body","JSON","stringify","find","x","_id","type","placeholder","value","onChange","e","target","onClick","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAmBeA,EAnBC,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACd,OAAO,sBAAKC,UAAS,eAAUD,EAAKE,YAAc,gBAAkB,IAA7D,UACM,qBAAKD,UAAU,6GAAf,SACID,EAAKG,OAEV,sBAAKF,UAAU,yBAAf,UACI,qBAAKA,UAAU,SAAf,SACG,mBAAGG,KAAMJ,EAAKK,UAAd,SACE,oBAAIJ,UAAU,wBAAd,SAAuCD,EAAKM,UAGjD,qBAAKL,UAAU,UAAf,SACI,oBAAGG,KAAMJ,EAAKK,UAAd,yBAAsCL,EAAKK,eAE/C,wBAAOJ,UAAU,UAAjB,yBAAwC,IAAIM,KAAKP,EAAKQ,YAAYC,mBAAmB,mBC8E1FC,MAxFf,WAAgB,IAAD,EACgCC,mBAAS,GADzC,mBACPC,EADO,KACUC,EADV,OAEkBF,mBAAS,IAF3B,mBAEPG,EAFO,KAEGC,EAFH,OAGUJ,mBAAS,IAHnB,mBAGPK,EAHO,KAGDC,EAHC,KAOdC,qBAAW,WACVC,MACE,IAEH,IAAMC,EAAe,ycAEfC,EAAgB,SAACC,GACtB,MAAM,gIAAN,OAAuIV,IAAoBU,EAAQ,gBAAkB,mBAG/KH,EAAS,uCAAG,WAAMI,GAAN,iBAAAC,EAAA,sEACKC,MAAOF,EAAoC,4BAA9B,6BADlB,UAEM,OADlBG,EADY,QAELC,OAFK,gCAGCD,EAASE,OAHV,OAGXC,EAHW,OAIjBZ,EAAQY,EAAI7B,MAJK,2CAAH,sDAQV8B,EAAY,uCAAG,8BAAAN,EAAA,yDACHJ,EAAaW,KAAKjB,GADf,uBAGnBkB,MAAM,iCAHa,0CAOGP,MAAM,yBAAyB,CACrDQ,OAAO,OACPC,QAAS,CACR,eAAgB,oBAEjBC,KAAKC,KAAKC,UAAU,CACnB/B,IAAKQ,MAba,UAiBI,OAVlBY,EAPc,QAiBPC,OAjBO,kCAkBDD,EAASE,OAlBR,QAkBbC,EAlBa,OAmBdb,EAAKsB,MAAK,SAAAC,GAAC,OAAEA,EAAEC,MAAQX,EAAI7B,KAAKwC,SACpCX,EAAI7B,KAAKE,aAAc,EACvBe,EAAQ,CAACY,EAAI7B,MAAN,mBAAcgB,MAEtBD,EAAY,IAvBO,wBAyBnBiB,MAAM,8BAzBa,4CAAH,qDAgClB,OACC,sBAAK/B,UAAU,8BAAf,UACC,oBAAIA,UAAU,iCAAd,kCACA,sBAAKA,UAAU,4CAAf,UACA,uBAAOwC,KAAK,OAAOxC,UAAU,6CAA6CyC,YAAY,sBAAsBC,MAAO7B,EAAU8B,SAAU,SAACC,GAAD,OAAO9B,EAAY8B,EAAEC,OAAOH,UACnK,wBAAQF,KAAK,SAASxC,UAAU,4FAA4F8C,QAASjB,EAArI,yBAGA,sBAAK7B,UAAU,gBAAf,UACA,wBAAQwC,KAAK,SAASxC,UAAWoB,EAAc,GAAI0B,QAAS,WAC3DlC,EAAmB,GACnBM,KAFD,uBAIA,wBAAQsB,KAAK,SAASxC,UAAWoB,EAAc,GAAI0B,QAAS,WAC3DlC,EAAmB,GACnBM,EAAU,QAFX,8BAMA,qBAAKlB,UAAU,oBAAf,SAEEe,EAAKgC,KAAI,SAAAhD,GACR,OAAO,cAAC,EAAD,CAASA,KAAMA,GAAWA,EAAKwC,cC9E5CS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8c10b89c.chunk.js","sourcesContent":["const URLInfo = ({data}) => {\n    return <div className={`flex ${data.newly_added ? 'bg-yellow-100' : ''}`}>\n                 <div className=\"m-1 mr-2 w-12 h-12 relative flex justify-center items-center  bg-purple-200 text-purple-700 uppercase used\">\n                    {data.used}\n                 </div>\n                <div className=\"flex-col p-3 flex-auto\">\n                    <div className=\"header\">\n                       <a href={data.short_url}>\n                         <h4 className=\"text-xl font-semibold\">{data.url}</h4>\n                       </a>\n                    </div>\n                    <div className=\"text-sm\">\n                        <a href={data.short_url}>Short URL : {data.short_url}</a>\n                    </div>\n                    <small className=\"text-xs\">Created At: {new Date(data.created_at).toLocaleDateString('en-US')}</small>\n                </div>\n            </div>\n}\n\nexport default URLInfo","import './App.css';\nimport {useState,useEffect} from 'react'\nimport URLInfo from './url_info'\n\nfunction App() {\n\tconst [currentTabIndex, setcurrentTabIndex] = useState(0)\n\tconst [urlInput, seturlInput] = useState('')\n\tconst [urls, setUrls] = useState([])\n\n\t\n\n\tuseEffect( () =>  {\n\t\tfetchData();\n\t}, [])\n\n\tconst urlValidator = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\n\n\tconst getTabClasses = (tabId) => {\n\t\treturn `block relative px-4 py-1 leading-6 sm:text-md font-semibold focus:outline-none transition-colors duration-300 bg-white  mr-5 ${currentTabIndex === tabId ? 'text-gray-900' : ' text-gray-400'}`\n\t}\n\n\tconst  fetchData = async(top) => {\n\t\tconst response = await fetch(!top ? 'http://localhost:3000/all' : 'http://localhost:3000/top')\n\t\tif (response.status === 200){\n\t\t\tconst res = await response.json();\n\t\t\tsetUrls(res.data)\n\t\t}\n\t}\n\n\tconst handleSubmit = async() => {\n\t\tconst is_valid = urlValidator.test(urlInput)\n\t\tif (!is_valid){\n\t\t\talert('Invalid URL, please try again');\n\t\t\treturn;\n\t\t}\n\n\t\tconst response = await fetch('http://localhost:3000/',{\n\t\t\tmethod:'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody:JSON.stringify({\n\t\t\t\turl: urlInput\n\t\t\t})\n\t\t})\n\n\t\tif (response.status === 200){\n\t\t\tconst res = await response.json();\n\t\t\tif (!urls.find(x=>x._id === res.data._id)){\n\t\t\t\tres.data.newly_added = true\n\t\t\t\tsetUrls([res.data,...urls]);\n\t\t\t}\n\t\t\tseturlInput('')\n\t\t}else{\n\t\t\talert('Problem shortening the URL')\n\t\t}\n\n\t}\n\n\n\n\treturn (\n\t\t<div className=\"m-auto bg-gray-50 container\">\n\t\t\t<h1 className=\"text-7xl text-center font-bold\"> Great Url shortener</h1>\n\t\t\t<div className=\"pt-5 flex m-auto textInput justify-center\">\n\t\t\t<input type=\"text\" className=\" border border-purple-700 flex-auto  pl-10\" placeholder=\"Enter your URL here\" value={urlInput} onChange={(e) => seturlInput(e.target.value)} />\n\t\t\t<button type=\"button\" className=\"ml-5 bg-purple-200 text-purple-700 text-base font-semibold px-6 py-2 rounded-lg flex-none\" onClick={handleSubmit}>Short it</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex mt-5 p-5\">\n\t\t\t<button type=\"button\" className={getTabClasses(0)} onClick={()=>{\n\t\t\t\tsetcurrentTabIndex(0)\n\t\t\t\tfetchData()\n\t\t\t}}>All URL's</button>\n\t\t\t<button type=\"button\" className={getTabClasses(1)} onClick={()=>{\n\t\t\t\tsetcurrentTabIndex(1)\n\t\t\t\tfetchData('top')\n\t\t\t}}>Top 100 URL's</button>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex-col mt-5 p-5\">\n\t\t\t\t{\n\t\t\t\t\turls.map(data => {\n\t\t\t\t\t\treturn <URLInfo data={data} key={data._id}></URLInfo>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}